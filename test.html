<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ruta personalizada con Leaflet</title>
	<link rel="stylesheet" href="https://use.typekit.net/rlj8psv.css">

	<link rel="stylesheet" href="css/styles.css">
    <!-- Incluir el CSS de Leaflet -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />

    <style>
        /* Establecer el tamaño del mapa */
        #map {
			border-radius: 20px;
			width: 88vw;
			margin: 3vh;
			height: 45vh;
        }
    </style>
</head>
<body style="background: linear-gradient(to top, #6E69FE, #0e0d28); min-height: 100vh; margin: 0; font-family: Jost; overflow: hidden;"></body>
<h1 class="titulo" style="height: 0;" >Hola Jaimito.</h1>
<h3 class="titulo" style="font-weight: 400;">Esta es tu ruta habitual los viernes.</h3>
<div id="map"></div> <!-- Div donde se cargará el mapa -->
<!-- Incluir la librería de Leaflet -->
<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script src="plugins/antpath/leaflet-ant-path.js"></script>
<script>
	

var map = L.map('map').setView([40.4639193168351, -3.7049425732423233], 14);
var latlngs = [
    [40.468961008876434, -3.703688393404534], //casa de jaimito
    [40.468622484967135, -3.703836720544411],
	[40.46737181239393, -3.7051593042083204],
    [40.465759068596704, -3.700524080761492],
	[40.46490331127875, -3.6963832812293194],
    [40.464345210642875, -3.6955237216543875],
	[40.46399141337825, -3.696259923701317], // mercadona
	[40.460579455531715, -3.69824910807756],
    [40.457518185562904, -3.7014683218498794],
	[40.45238042959719, -3.703223206022301],
    [40.4524177926663, -3.7088698049063735],
	[40.45217493238904, -3.7094099142441133],
	[40.45256724478498, -3.7133134330537114],
	[40.45727481482375, -3.7115212516299585],
	[40.46429819508922, -3.706390211366942],
	[40.465034642562735, -3.7071072044284],
	[40.46656861969209, -3.7047979540272156],
	[40.46855487136029, -3.7027127353400955],
	[40.469007177893275, -3.703669178565219] // vuelta a casa
];

var latlngsVelocidad = [
    [40.468961008876434, -3.703688393404534], //casa de jaimito
    [40.468957614923305, -3.703488647278926],
    [40.46737877936232, -3.705165585522611],
    [40.46576959299377, -3.700549340911543],
    [40.46492689974899, -3.696456891584904],
    [40.46434144350312, -3.695500820839472],
    [40.46413058357817, -3.695894491629683],
	  [40.46399141337825, -3.696259923701317], // mercadona
    [40.46223320797405, -3.6975768671437788],
    [40.46057624127511, -3.6983813784010557],
    [40.458685124324084, -3.7003883538672455],
    [40.457501599899906, -3.7014517849125097],
    [40.456577989275104, -3.704858406809519],
    [40.45323253521988, -3.7083632509058577],
    [40.45244100107982, -3.7088365729352133],
    [40.45209118976759, -3.7093897252516768],
    [40.45256470556236, -3.7110419659478056],
    [40.452425916795775, -3.7118358997888037],
    [40.453054545976705, -3.713241377264082],
    [40.45400156065268, -3.7126191047941113],
    [40.454670751595955, -3.7129701630166863],
    [40.45508592387499, -3.71302131497039],
    [40.455098897998404, -3.7130127896347664],
    [40.45740175970953, -3.711469705698037],
    [40.45747838584067, -3.7111795117308044],
    [40.457688470306095, -3.7112386770545833],
    [40.45800859777728, -3.7111006246145015],
    [40.46220211003954, -3.708253608201217],
    [40.463243021679375, -3.7073509147672383],
    [40.46398247036918, -3.7063278491166707],
    [40.46483866394567, -3.706455732322992],
    [40.4654224260359, -3.7077345643862003],
    [40.46692072558395, -3.708425133683556],
    [40.46810766637582, -3.707939177499536],
    [40.46954753360394, -3.707402068032988],
    [40.46983939481969, -3.7067370753601203],
    [40.46985946865957, -3.7063148835234743],
    [40.469739025530124, -3.705338564901232],
    [40.47010035427048, -3.704335859289198],
    [40.47010035427048, -3.703491475615907],
    [40.46991969014331, -3.7028845748507293],
	  [40.469007177893275, -3.703669178565219] // vuelta a casa


var polyline = L.polyline(latlngs, {color: 'red'}).addTo(map);
L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
}).addTo(map);

L.marker([40.468961008876434, -3.703688393404534]).addTo(map) // casa
	.bindPopup('Casa de Jaimito', {autoClose: false, closeOnClick: false})
	.openPopup()
L.marker([40.46399141337825, -3.696259923701317]).addTo(map) // mercadona
	.bindPopup('Mercadona', {autoClose: false, closeOnClick: false})
	.openPopup()
L.marker([40.45256724478498, -3.7133134330537114]).addTo(map) // gimnasio
	.bindPopup('Gimnasio', {autoClose: false, closeOnClick: false})
	.openPopup()

var antPath = L.polyline.antPath(latlngs, {
        color: "#6E69Fe",      // Color de la línea
        weight: 5,             // Grosor de la línea
        opacity: 0.7,          // Opacidad
        delay: 400,            // Velocidad de la animación (milisegundos)
        dashArray: [10, 20],   // Patrón de la animación (longitud de las líneas y espacios)
        pulseColor: "#FFFFFF"  // Color de la animación ondulada
    }).addTo(map);

var antPathVelocidad = L.polyline.antPath(latlngsVelocidad, {
        color: "#6E69Fe",      // Color de la línea
        weight: 5,             // Grosor de la línea
        opacity: 0.7,          // Opacidad
        delay: 400,            // Velocidad de la animación (milisegundos)
        dashArray: [10, 20],   // Patrón de la animación (longitud de las líneas y espacios)
        pulseColor: "#FFFFFF"  // Color de la animación ondulada
    }).addTo(map);

</script>

</body>
</html>
